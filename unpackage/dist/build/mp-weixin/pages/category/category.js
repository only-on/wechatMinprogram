(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/category/category"],{"0f11":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){a.e("pages/category/news-item").then(function(){return resolve(a("bfae"))}.bind(null,a)).catch(a.oe)},n=100,c=3,s={data0:{datetime:"40分钟前",article_type:0,title:"uni-app行业峰会频频亮相，开发者反响热烈!",source:"DCloud",comment_count:639},data1:{datetime:"一天前",article_type:1,title:"DCloud完成B2轮融资，uni-app震撼发布!",image_url:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/images/shuijiao.jpg?imageView2/3/w/200/h/100/q/90",source:"DCloud",comment_count:11395},data2:{datetime:"一天前",article_type:2,title:"中国技术界小奇迹：HBuilder开发者突破200万",image_url:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/images/muwu.jpg?imageView2/3/w/200/h/100/q/90",source:"DCloud",comment_count:11395},data3:{article_type:3,image_list:[{url:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/images/cbd.jpg?imageView2/3/w/200/h/100/q/90",width:563,height:316},{url:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/images/muwu.jpg?imageView2/3/w/200/h/100/q/90",width:641,height:360},{url:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/images/shuijiao.jpg?imageView2/3/w/200/h/100/q/90",width:640,height:360}],datetime:"5分钟前",title:"uni-app 支持使用 npm 安装第三方包，生态更趋丰富",source:"DCloud",comment_count:11},data4:{datetime:"2小时前",article_type:4,title:"uni-app 支持原生小程序自定义组件，更开放、更自由",image_url:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/images/cbd.jpg?imageView2/3/w/200/h/100/q/90",source:"DCloud",comment_count:69}},r={components:{mediaItem:i},data:function(){return{categoryId:0,newsList:[],cacheTab:[],product_app_list:[],tabIndex:0,tabIndex2:0,tabBars:[],tabBars2:[],scrollInto:"",showTips:!1,navigateFlag:!1,pulling:!1,refreshIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB5QTFRFcHBw3Nzct7e39vb2ycnJioqK7e3tpqam29vb////D8oK7wAAAAp0Uk5T////////////ALLMLM8AAABxSURBVHja7JVBDoAgDASrjqj//7CJBi90iyYeOHTPMwmFZrHjYyyFYYUy1bwUZqtJIYVxhf1a6u0R7iUvWsCcrEtwJHp8MwMdvh2amHduiZD3rpWId9+BgPd7Cc2LIkPyqvlQvKxKBJ//Qwq/CacAAwDUv0a0YuKhzgAAAABJRU5ErkJggg=="}},onLoad:function(t){var e=this;setTimeout((function(){e.tabBars.forEach((function(t){e.newsList.push({data:[],isLoading:!1,refreshText:"",loadingText:""})})),e.getList(0)}),350),this.categoryId=t.categoryId,this.$Request.toget(this.$api.category.category_list,{id:t.categoryId}).then((function(t){if(1e3==t.code){e.tabBars=[];for(var a=0;a<t.content.length;a++){var i={id:0,name:"全部",url:"https://zzwl1zsxn.oss-cn-hangzhou.aliyuncs.com/images/2020/04/01/83f082662cfb7b62d0ad2a15fd06fa90.jpg"};i.id=t.content[a].id;var n=[];n=n.concat(i),n=n.concat(t.content[a].children);var c={id:0,name:"全部",children:[]};c.id=t.content[a].id,c.name=t.content[a].name,c.children=n,e.tabBars=e.tabBars.concat(c)}e.tabBars2=e.tabBars[0].children,e.$Request.toget(e.$api.home.category_list,{categoryId:e.tabBars[0].children[0].id}).then((function(t){1e3==t.code&&(e.product_app_list=t.content.productListAppVoList)}))}}))},methods:{getList:function(t){for(var e=this.newsList[t],a=[],i=1;i<=10;i++){var n=Object.assign({},s["data"+Math.floor(5*Math.random())]);n.id=this.newGuid(),a.push(n)}e.data=e.data.concat(a)},goDetail:function(e){t.navigateTo({url:"/pages/detail/goodsinfo?id="+e.id+"&type="+e.type})},close:function(e,a){var i=this;t.showModal({content:"是否删除本条信息？",success:function(t){t.confirm&&i.newsList[e].data.splice(a,1)}})},loadMore:function(t){var e=this;setTimeout((function(){e.getList(e.tabIndex)}),500)},ontabtap:function(t){var e=t.target.dataset.current||t.currentTarget.dataset.current;this.switchTab(e)},ontabtap2:function(t){var e=t.target.dataset.current||t.currentTarget.dataset.current;this.switchTab2(e)},ontabchange:function(t){var e=t.target.current||t.detail.current;this.switchTab(e),this.tabBars2=this.tabBars[e].children},switchTab:function(t){var e=this;if(0===this.newsList[t].data.length&&this.getList(t),this.$Request.toget(this.$api.home.category_list,{categoryId:this.tabBars[t].children[0].id}).then((function(t){1e3==t.code&&(e.product_app_list=t.content.productListAppVoList)})),this.tabIndex!==t){if(this.newsList[this.tabIndex].data.length>n){var a=this.cacheTab.indexOf(this.tabIndex);a<0&&this.cacheTab.push(this.tabIndex)}if(this.tabIndex=t,this.scrollInto=this.tabBars[t].id,this.tabIndex2=0,this.cacheTab.length>c){var i=this.cacheTab[0];this.clearTabData(i),this.cacheTab.splice(0,1)}}},switchTab2:function(t){var e=this;this.$Request.toget(this.$api.home.category_list,{categoryId:this.tabBars[this.tabIndex].children[t].id}).then((function(t){1e3==t.code&&(e.product_app_list=t.content.productListAppVoList)})),this.tabIndex2!==t&&(this.tabIndex2=t)},clearTabData:function(t){this.newsList[t].data.length=0,this.newsList[t].loadingText="加载更多..."},refreshData:function(){},onrefresh:function(t){var e=this,a=this.newsList[this.tabIndex];a.refreshFlag&&(a.refreshing=!0,a.refreshText="正在刷新...",setTimeout((function(){e.refreshData(),e.pulling=!0,a.refreshing=!1,a.refreshFlag=!1,a.refreshText="已刷新",setTimeout((function(){e.pulling=!1}),500)}),2e3))},onpullingdown:function(t){var e=this.newsList[this.tabIndex];e.refreshing||this.pulling||(Math.abs(t.pullingDistance)>Math.abs(t.viewHeight)?(e.refreshFlag=!0,e.refreshText="释放立即刷新"):(e.refreshFlag=!1,e.refreshText="下拉可以刷新"))},newGuid:function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return(t()+t()+"-"+t()+"-4"+t().substr(0,3)+"-"+t()+"-"+t()+t()+t()).toUpperCase()}}};e.default=r}).call(this,a("543d")["default"])},"222c":function(t,e,a){"use strict";a.r(e);var i=a("0f11"),n=a.n(i);for(var c in i)"default"!==c&&function(t){a.d(e,t,(function(){return i[t]}))}(c);e["default"]=n.a},"46b8":function(t,e,a){"use strict";(function(t){a("c6bf"),a("921b");i(a("66fd"));var e=i(a("a02e"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},4741:function(t,e,a){},"89a1":function(t,e,a){"use strict";var i,n=function(){var t=this,e=t.$createElement;t._self._c},c=[];a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return c})),a.d(e,"a",(function(){return i}))},"8eb0":function(t,e,a){},a02e:function(t,e,a){"use strict";a.r(e);var i=a("89a1"),n=a("222c");for(var c in n)"default"!==c&&function(t){a.d(e,t,(function(){return n[t]}))}(c);a("a1e6"),a("a581");var s,r=a("f0c5"),o=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=o.exports},a1e6:function(t,e,a){"use strict";var i=a("8eb0"),n=a.n(i);n.a},a581:function(t,e,a){"use strict";var i=a("4741"),n=a.n(i);n.a}},[["46b8","common/runtime","common/vendor"]]]);
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/category/taocan"],{"19eb":function(t,e,n){"use strict";n.r(e);var a=n("cc0b"),i=n("55ee");for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("b207"),n("abe7");var o,c=n("f0c5"),r=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);e["default"]=r.exports},3098:function(t,e,n){},"4bd8":function(t,e,n){},"55ee":function(t,e,n){"use strict";n.r(e);var a=n("a74b"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e["default"]=i.a},5974:function(t,e,n){"use strict";(function(t){n("c6bf"),n("921b");a(n("66fd"));var e=a(n("19eb"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},a74b:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(){n.e("pages/category/taocan-item").then(function(){return resolve(n("2a2b"))}.bind(null,n)).catch(n.oe)},i=100,s=3,o={components:{mediaItem:a},data:function(){return{categoryId:0,newsList:[],cacheTab:[],product_app_list:[],tabIndex:0,tabIndex2:0,tabBars:[],scrollInto:"",showTips:!1,navigateFlag:!1,pulling:!1,refreshIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB5QTFRFcHBw3Nzct7e39vb2ycnJioqK7e3tpqam29vb////D8oK7wAAAAp0Uk5T////////////ALLMLM8AAABxSURBVHja7JVBDoAgDASrjqj//7CJBi90iyYeOHTPMwmFZrHjYyyFYYUy1bwUZqtJIYVxhf1a6u0R7iUvWsCcrEtwJHp8MwMdvh2amHduiZD3rpWId9+BgPd7Cc2LIkPyqvlQvKxKBJ//Qwq/CacAAwDUv0a0YuKhzgAAAABJRU5ErkJggg=="}},onLoad:function(t){var e=this,n=this;setTimeout((function(){e.tabBars.forEach((function(t){e.newsList.push({data:[],isLoading:!1,refreshText:"",loadingText:"加载更多..."})})),e.getList(0)}),350),n.$Request.toget(n.$api.category.taocan_list).then((function(t){1e3==t.code&&(n.tabBars=t.content,n.$Request.toget(n.$api.category.combo_goods_list,{categoryId:n.tabBars[0].id}).then((function(t){1e3==t.code?n.product_app_list=t.content.productListAppVoList:n.product_app_list=[]})))}))},methods:{getList:function(t){var e=this;e.$Request.toget(e.$api.category.combo_goods_list,{categoryId:e.tabBars[t].id}).then((function(t){1e3==t.code&&(e.product_app_list=t.content.productListAppVoList)}))},goDetail:function(e){var n=this;t.navigateTo({url:"/pages/detail/goodsinfo?id="+e.id+"&type="+e.type}),setTimeout((function(){n.navigateFlag=!1}),200)},close:function(e,n){var a=this;t.showModal({content:"是否删除本条信息？",success:function(t){t.confirm&&a.newsList[e].data.splice(n,1)}})},loadMore:function(t){var e=this;setTimeout((function(){e.getList(e.tabIndex)}),500)},ontabtap:function(t){var e=t.target.dataset.current||t.currentTarget.dataset.current;this.switchTab(e)},ontabchange:function(t){var e=t.target.current||t.detail.current;this.switchTab(e)},switchTab:function(t){var e=this;if(console.log("-----"+t),this.$Request.toget(this.$api.category.combo_goods_list,{categoryId:this.tabBars[t].id}).then((function(t){1e3==t.code?e.product_app_list=t.content.productListAppVoList:e.product_app_list=[]})),0===this.newsList[t].data.length&&this.getList(t),this.tabIndex!==t){if(this.newsList[this.tabIndex].data.length>i){var n=this.cacheTab.indexOf(this.tabIndex);n<0&&this.cacheTab.push(this.tabIndex)}if(this.tabIndex=t,this.scrollInto=this.tabBars[t].id,this.cacheTab.length>s){var a=this.cacheTab[0];this.clearTabData(a),this.cacheTab.splice(0,1)}}},switchTab2:function(t){this.tabIndex2!==t&&(this.tabIndex2=t)},clearTabData:function(t){this.newsList[t].data.length=0,this.newsList[t].loadingText="加载更多..."},refreshData:function(){},onrefresh:function(t){var e=this,n=this.newsList[this.tabIndex];n.refreshFlag&&(n.refreshing=!0,n.refreshText="正在刷新...",setTimeout((function(){e.refreshData(),e.pulling=!0,n.refreshing=!1,n.refreshFlag=!1,n.refreshText="已刷新",setTimeout((function(){e.pulling=!1}),500)}),2e3))},onpullingdown:function(t){var e=this.newsList[this.tabIndex];e.refreshing||this.pulling||(Math.abs(t.pullingDistance)>Math.abs(t.viewHeight)?(e.refreshFlag=!0,e.refreshText="释放立即刷新"):(e.refreshFlag=!1,e.refreshText="下拉可以刷新"))},newGuid:function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return(t()+t()+"-"+t()+"-4"+t().substr(0,3)+"-"+t()+"-"+t()+t()+t()).toUpperCase()}}};e.default=o}).call(this,n("543d")["default"])},abe7:function(t,e,n){"use strict";var a=n("4bd8"),i=n.n(a);i.a},b207:function(t,e,n){"use strict";var a=n("3098"),i=n.n(a);i.a},cc0b:function(t,e,n){"use strict";var a,i=function(){var t=this,e=t.$createElement;t._self._c},s=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return a}))}},[["5974","common/runtime","common/vendor"]]]);
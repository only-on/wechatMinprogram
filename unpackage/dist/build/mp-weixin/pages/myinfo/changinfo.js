(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/myinfo/changinfo"],{"3bca":function(e,n,t){"use strict";var a=t("7ef1"),o=t.n(a);o.a},"7ef1":function(e,n,t){},cc9e:function(e,n,t){"use strict";(function(e){t("c6bf"),t("921b");a(t("66fd"));var n=a(t("eabc"));function a(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},cd08:function(e,n,t){"use strict";t.r(n);var a=t("f3d4"),o=t.n(a);for(var c in a)"default"!==c&&function(e){t.d(n,e,(function(){return a[e]}))}(c);n["default"]=o.a},eabc:function(e,n,t){"use strict";t.r(n);var a=t("f8af"),o=t("cd08");for(var c in o)"default"!==c&&function(e){t.d(n,e,(function(){return o[e]}))}(c);t("3bca");var i,l=t("f0c5"),u=Object(l["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],i);n["default"]=u.exports},f3d4:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=c(t("a422"));function c(e){return e&&e.__esModule?e:{default:e}}var i=function(){t.e("components/invinbg-image-cropper/invinbg-image-cropper").then(function(){return resolve(t("ca4f"))}.bind(null,t)).catch(t.oe)},l={components:{ImageCropper:i},data:function(){return{name:"新用户",birthday:"2000-05-01",tupian:"https://zzwl1zsxn.oss-cn-hangzhou.aliyuncs.com/images/2020/03/20/fe6861f82870aa9826f7e01ea8878235.png",tempFilePath:"",cropFilePath:"",themeColor:"#65c186",list:[{label:"男",value:1},{label:"女",value:2},{label:"保密",value:0}],sex:"男",value5:["610000","610100","610113"],list5:o.default,address:"陕西省西安市雁塔区",info:""}},computed:{endDate:function(){return this.getDate("end")}},onLoad:function(n){a=this,e.request({url:this.$api_url+"/user/get_user_info",method:"GET",header:{authorization:e.getStorageSync("authorization")},success:function(e){console.log(e),1e3==e.data.code&&(a.info=e.data.content.intro,a.address=e.data.content.address,a.sex=e.data.content.sexName,a.birthday=e.data.content.birthday,a.name=e.data.content.userName,a.tupian=e.data.content.headimg)}})},onShow:function(e){},methods:{upload:function(){e.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["camera","album"],success:function(e){a.tempFilePath=e.tempFilePaths.shift()}})},confirm:function(n){var t=this;a.tempFilePath="",a.cropFilePath=n.detail.tempFilePath,e.uploadFile({url:a.$api_url+"/file/image_upload",filePath:a.cropFilePath,name:"upload_file",header:{"Content-Type":"application/x-www-form-urlencoded",authorization:e.getStorageSync("authorization")},success:function(n){var o=JSON.parse(n.data);1e3==o.code&&(console.log(o),a.tupian=o.content.url,e.request({url:t.$api_url+"/user/update_headimg",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",authorization:e.getStorageSync("authorization")},data:{headimg:a.tupian},success:function(e){console.log(e),1e3==e.data.code&&console.log("ok")}}))},fail:function(e){console.log(e)}})},cancel:function(){console.log("canceled")},handleTap:function(){this.$refs.picker.show()},handleChange:function(e){console.log("change::",e)},handleConfirm:function(e){this.sex=e.item.label,console.log("confirm::",e)},handleCancle:function(e){console.log("cancle::",e)},handleTap5:function(){this.$refs.picker5.show()},handleChange5:function(e){console.log("change::",e)},handleConfirm5:function(e){console.log("confirm::",e),this.address=e.item[0].label+e.item[1].label+e.item[2].label},handleCancle5:function(e){console.log("cancle::",e)},bindDateChange:function(e){this.birthday=e.target.value,console.log(e)},getDate:function(e){var n=new Date,t=n.getFullYear(),a=n.getMonth()+1,o=n.getDate();return a=a>9?a:"0"+a,o=o>9?o:"0"+o,"".concat(t,"-").concat(a,"-").concat(o)},updatainfo:function(){""!=a.name&&null!=a.name?""!=a.info&&null!=a.info?e.request({url:this.$api_url+"/user/update_user_info",method:"POST",header:{authorization:e.getStorageSync("authorization")},data:{birthday:a.birthday,userName:a.name,address:a.address,intro:a.info,sexName:a.sex},success:function(n){console.log(n),1e3==n.data.code&&(console.log(n),e.showToast({title:""+n.data.message}))}}):e.showToast({title:"请输入简介"}):e.showToast({title:"请输入昵称"})}}};n.default=l}).call(this,t("543d")["default"])},f8af:function(e,n,t){"use strict";var a,o=function(){var e=this,n=e.$createElement;e._self._c},c=[];t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return c})),t.d(n,"a",(function(){return a}))}},[["cc9e","common/runtime","common/vendor"]]]);